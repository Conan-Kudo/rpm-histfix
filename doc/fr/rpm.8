.\" Traduction 06/08/2000 par FrÃ©dÃ©ric Delanoy (fdelanoy@info.fundp.ac.be)
.\"
.\" rpm - Gestionnaire de Paquetages Red Hat
.TH RPM 8 "6 AoÃ»t 2000" "Red Hat" "Manuel de l'administrateur Linux"
.SH NOM 
rpm \- Gestionnaire de Paquetages Red Hat.
.SH SYNOPSIS
\fBrpm\fP [options] 
.SH DESCRIPTION
\fBrpm\fP est un puissant \fIgestionnaire de paquetages\fP, qui peut Ãªtre utilisÃ© pour construire, installer, interroger, vÃ©rifier, mettre Ã  jour, et dÃ©sinstaller des paquetages de logicies individuels.  Un \fIpaquetage\fP consiste en une archive de fichiers, et en de l'information sur ce paquetage, incluant le nom, la version et la description du paquetage.

Un des modes de base suivants doit Ãªtre sÃ©lectionnÃ© :
\fIInitialiser Base De DonnÃ©es\fP, \fIReconstruire Base De DonnÃ©es\fP, \fIConstruire Paquetage\fP, \fIRecompiler Paquetage\fP, \fIConstruire Paquetage Ã  partir Tarball\fP, \fIInterroger\fP, \fIMontrer Etiquettes de RequÃªtes\fP, \fIInstaller\fP, \fIRafraÃ®chir\fP, \fIDÃ©sinstaller\fP, \fIVÃ©rifier\fP, \fIVÃ©rifier Signature\fP, \fIResigner\fP, \fIAjouter Signature\fP, \fIfixer propriÃ©taires et groupes\fR et \fIMontrer Configuration\fP.

Maintenance de la Base De DonnÃ©es :
.br
.I "\fB    rpm \-i [\-\-initdb]\fP"
.br
.I "\fB    rpm \-i [\-\-rebuiddb]\fP"

Construction :
.br
.I "\fB    rpm [\-b|t] [spec_paquetage]+\fP"
.br
.I "\fB    rpm [\-\-rebuild] [source_rpm]+\fP"
.br
.I "\fB    rpm [\-\-tarbuild] [source_tarrÃ©e]+\fP"
.br

RequÃªtes :
.br
.I "\fB    rpm [\-\-query] [options_de_requÃªte]\fP"
.br
.I "\fB    rpm [\-\-querytags]\fP"
.br

Maintenir les paquetages installÃ©s :
.br
.I "\fB    rpm [\-\-install] [options] [fichier_paquetage]+\fP"
.br
.I "\fB    rpm [\-\-freshen|\-F] [options_installation] [fichier_paquetage]+\fP"
.br
.I "\fB    rpm [\-\-uninstall|\-e] [options_dÃ©sinstallation] [paquetage]+\fP"
.br
.I "\fB    rpm [\-\-verify|\-V] [options_vÃ©rification] [paquetage]+\fP"
.br

Signatures:
.br
.I "\fB    rpm [\-\-verify|\-V] [options_vÃ©rification] [paquetage]+\fP"
.br
.I "\fB    rpm [\-\-resign] [fichier_paquetage]+\fP"
.br
.I "\fB    rpm [\-\-addsign] [fichier_paquetage]+\fP"
.br

Divers :
.br
.I "\fB    rpm [\-\-showrc]\fP"
.br
.I "\fB    rpm [\-\-setperms] [paquetage]+\fP"
.br
.I "\fB    rpm [\-\-setgids] [paquetage]+\fP"
.br


.SH OPTIONS GENERALES
Ces options peuvent Ãªtre utilisÃ©es dans diffÃ©rents modes.
.IP "\fB\-vv\fP"
Afficher un tas d'horribles informations de dÃ©boggage.
.IP "\fB\-\-quiet\fP"
Afficher le moins possible ; normalement seuls les messages d'erreur seront affichÃ©s.
.IP "\fB\-\-help\fP"
Afficher un message d'utilisation plus long que d'habitude.
.IP "\fB\-\-version\fP"
Afficher une seule ligne contenant le numÃ©ro de version utilisÃ© par \fBrpm\fP.
.IP "\fB\-\-rcfile \fI<liste_fichiers>\fP"
Chacun des fichiers dans la \fI<liste_fichiers>\fP sÃ©parÃ©s par des deux\-point est lu sÃ©quentiellement par \fBrpm\fP pour obtenir des informations de configuration.  La \fI<liste_fichiers>\fP par dÃ©faut est \fB/usr/lib/rpm/rpmrc:/etc/rpmrc:~/.rpmrc\fP.  Seul le premier fichier dans la liste doit exister, les tildes sont Ã©tendues Ã  \fB$HOME\fP.
.IP "\fB\-\-root \fI<rÃ©pertoire>\fP"
Utiliser le systÃ¨me "enracinÃ©" dans \fI<rÃ©pertoire>\fP pour toutes les opÃ©rations.  Notez que cela signifie que la base de donnÃ©es sera lue ou modifiÃ©e dans \fI<rÃ©pertoire>\fP et que chacun des scripts \fIpre\fP et \fIpost\fP seront lancÃ©s aprÃ¨s un chroot() vers \fI<rÃ©pertoire>\fP.
.IP "\fB\-\-dbpath \fI<chemin>\fP"
Utiliser la base de donnÃ©es RPM situÃ©e dans \fI<chemin>\fP.
.IP "\fB\-\-justdb\fP"
Mettre Ã  jour uniquement la base de donnÃ©es, pas le systÃ¨me de fichiers.
.IP "\fB\-\-ftpproxy \fI<hÃ´te>\fP, \fB\-\-httpproxy \fI<hÃ´te>\fP"
Utiliser \fI<hÃ´te>\fP en tant qu'hÃ´te proxy FTP ou HTTP.  Voir \fBOPTIONS FTP/HTTP\fP.
.IP "\fB\-\-ftpport \fI<port>\fP, \fB\-\-httpport \fI<port>\fP"
Utiliser \fI<port>\fP comme port FTP ou HTTP sur l'hÃ´te proxy.  Voir \fBOPTIONS FTP/HTTP\fP.
.IP "\fB\-\-pipe \fI<cmd>\fP"
Envoyer la sortie de \fBrpm\fP Ã  la commande \fI<cmd>\fP par l'intermÃ©diaire d'un tube.

.SH OPTIONS D'INSTALLATION ET DE MISE A NIVEAU
La forme de la commande d'installation rpm est
.PP
	\fBrpm \-i [options_installation] \fI<fichier_paquetage>+\fP
.PP
Ceci installe un nouveau paquetage.  La forme gÃ©nÃ©rale d'une commande de mise Ã  niveau rpm est
.PP
	\fBrpm \-U [options_installation] \fI<fichier_paquetage>+\fP
.PP
Ceci met Ã  jour ou installe le paquetage installÃ© actuellement Ã  la version du nouveau RPM.  Ceci est la mÃªme chose que l'installation, sauf que les autres versions du paquetage sont supprimÃ©es du systÃ¨me.
.PP
	\fBrpm [\-F|--rafraÃ®chir] [options_installation] \fI<fichier_paquetage>+\fP
.PP
Ceci mettra Ã  niveau les paquetages, mais uniquement si une version plus ancienne existe actuellement.

Le \fI<fichier_paquetage>\fP peut Ãªtre spÃ©cifiÃ© par une URL ftp ou http, auquel cas le paquetage sera tÃ©lÃ©chargÃ© avant d'Ãªtre installÃ©.  Voir \fBOPTIONS FTP/HTTP\fP pour obtenir des informations sur le support intÃ©grÃ© de ftp et http par RPM.
.PP
.IP "\fB\-\-force\fP"
Idem que \fB\-\-replacepkgs\fP, \fB\-\-replacefiles\fP, et \fB\-\-oldpaquetage\fP.
.IP "\fB\-h\fP, \fB\-\-hash\fP"
Afficher 50 marques de hachage quand l'archive du paquetage est dÃ©ballÃ©e.  A utiliser avec \fB\-v\fP pour un bel affichage.
.IP "\fB\-\-oldpackage\fP"
Permettre Ã  une mise Ã  niveau de remplacer un paquetage par un paquetage plus ancien.
.IP "\fB\-\-percent\fP"
Afficher les pourcentages quand les fichiers sont extraits de l'archive du paquetage, ceci dans le but de rendre RPM facile Ã  lancer Ã  partir d'autres outils.
.IP "\fB\-\-replacefiles\fP"
Installer les paquetages mÃªme s'ils remplacent des fichiers d'autres paquetages dÃ©jÃ  installÃ©s.
.IP "\fB\-\-replacepkgs\fP"
Installer les paquetages mÃªme si certains d'entre eux sont dÃ©jÃ  installÃ©s sur ce systÃ¨me.
.IP "\fB\-\-allfiles\fP"
Installer ou mettre Ã  niveau tous les fichiers manquants du paquetage, mÃªme s'ils existent dÃ©jÃ .
.IP "\fB\-\-nodeps\fP"
Ne pas effectuer de vÃ©rification de dÃ©pendances avant d'installer ou de mettre Ã  niveau un paquetage.
.IP "\fB\-\-noscripts\fP"
Ne pas exÃ©cuter les scripts de prÃ©\- et post\- installation.
.IP "\fB\-\-notriggers\fP"
Ne pas exÃ©cuter les scripts qui sont dÃ©clenchÃ©s par l'installation de ce paquetage.
.IP "\fB\-\-ignoresize\fP"
Ne pas examiner les systÃ¨mes de fichiers montÃ©s pour vÃ©rifier qu'il y ait un espace disque suffisant avant d'installer ce paquetage.
.IP "\fB\-\-excludepath \fI<chemin>\fP"
Ne pas installer les fichiers dont les noms commencent par \fI<chemin>\fP.
.IP "\fB\-\-excludedocs\fP"
Ne pas installer de fichiers qui sont marquÃ©s comme documentation (ce qui inclut les pages de manuel et les documents texinfo).
.IP "\fB\-\-includedocs\fP"
Installer les fichiers de documentation. C'est le comportement par dÃ©faut.
.IP "\fB\-\-test\fP"
Ne pas installer le paquetage, uniquement le vÃ©rifier et rapporter les conflits potentiels.
.IP "\fB\-\-ignorearch\fP"
Ceci permet l'installation ou la mise Ã  niveau mÃªme si l'architecture du binaire RPM et de l'hÃ´te ne correspondent pas.
.IP "\fB\-\-ignoreos\fP"
Ceci permet l'installation ou la mise Ã  niveau mÃªme si les systÃ¨mes d'exploitation du binaire RPM et de l'hÃ´te ne correspondent pas.
.IP "\fB\-\-prefix \fI<chemin>\fP"
Ceci fixe le prÃ©fixe d'installation Ã  \fI<chemin>\fP pour les paquetages relogeables.
.IP "\fB\-\-relocate \fI<ancien_chemin>\fB=\fI<nouveau_chemin>\fP"
Pour les paquetages relogeables, traduit les fichiers qui seraient mis dans \fI<oldchemin>\fP par \fI<newchemin>\fP.
.IP "\fB\-\-badreloc\fP"
A utiliser en conjonction avec \-\-relocate, ceci force le relogement mÃªme si le paquetage n'est pas relogeable.
.IP "\fB\-\-noorder\fP"
Ne pas rÃ©ordonner les paquetages pour une installation.  La liste des paquetages devrait normalement Ãªtre rÃ©ordonnÃ©e pour satisfaire aux dÃ©pendances.

.SH OPTIONS DE REQUETE
La forme gÃ©nÃ©rale d'une commande de requÃªte rpm est
.PP
	\fBrpm \-q [options_de_requÃªte]\fP
.PP
Vous pouvez spÃ©cifier le format d'information de paquetage qui sera affichÃ©.  Pour cela, utilisez l'option \fB[\-\-queryformat|\-qf]\fP, suivie de la chaÃ®ne de caractÃ¨res de format.

Les formats de requÃªte sont des versions modifiÃ©es du formattage standard \fBprintf(3)\fP.  Ce format est constituÃ© de chaÃ®nes de caractÃ¨res statiques (qui peuvent inclure les sÃ©quences d'Ã©chappement du C standard pour les sauts de lignes, les tabulations, et d'autres caractÃ¨res spÃ©ciaux) et les formatteurs du type de ceux de \fBprintf(3)\fP.  Comme \fBrpm\fP connaÃ®t dÃ©jÃ  les types Ã  afficher, le spÃ©cificateur de type doit nÃ©anmoins Ãªtre omis, et remplacÃ© par le nom de l'Ã©tiquette (tag) d'entÃªte Ã  afficher, enfermÃ© dans des caractÃ¨res \fB{}\fP.  La partie \fBRPMTAG_\fP du nom de l'Ã©tiquette peut Ãªtre omise.

Des formats de sortie alternatifs peuvent Ãªtre requis en faisant suivre l'Ã©tiquette par \fB:\fItypetag\fR.  Actuellement, les types suivants sont supportÃ©s : \fBoctal\fR, \fBdate\fR, \fBshescape\fR, \fBperms\fR, \fBfflags\fR, et \fBdepflags\fR.

Par exemple, pour afficher uniquement les noms des paquetages requis, vous pouvez utiliser \fB%{NOM}\fP comme chaÃ®ne de caractÃ¨res de format. Pour afficher de l'information de nom et de distribution en deux colonnes, vous pouvez utiliser \fB%\-30{NOM}%{DISTRIBUTION}\fP.

\fBrpm\fP affichera une liste de toutes les Ã©tiquettes qu'il connaÃ®t quand il est invoquÃ© avec l'argument \fB\-\-querytags\fP.

Il y a deux sous\-ensembles d'option pour les requÃªtes : la sÃ©lection de paquetages et la sÃ©lection d'information.

Options de sÃ©lection de paquetages :
.br
.IP "\fB\fI<nom_paquetage>\fP"
Interroger le paquetage intallÃ© nommÃ© \fI<nom_paquetage>\fP.
.IP "\fB\-a\fP, \fB\-\-all\fP"
Interroger tous les paquetages intallÃ©s.
.IP "\fB\-\-whatrequires \fI<capacitÃ©>\fP"
Interroger tous les paquetages qui ont besoin de \fI<capacitÃ©>\fP pour leur fonctionnement propre.
.IP "\fB\-\-whatprovides \fI<virtuel>\fP"
Interroger tous les paquetages qui fournissent la capacitÃ© \fI<virtuel>\fP.
.IP "\fB\-f \fI<fichier>\fP, \fB\-\-fichier \fI<fichier>\fP"
Interroger le paquetage possÃ©dant \fI<fichier>\fP.
.IP "\fB\-g \fI<groupe>\fP, \fB\-\-groupe \fI<groupe>\fP"
Interroger les paquetages dont le groupe est \fI<groupe>\fP.
.IP "\fB\-p \fI<fichier_paquetage>\fP"
Interroger un paquetage \fI<fichier_paquetage>\fP non installÃ© .  Le \fI<fichier_paquetage>\fP peut Ãªtre spÃ©cifiÃ© comme une URL de type ftp ou http, auquel cas l'entÃªte du paquetage sera tÃ©lÃ©chargÃ©e et interrogÃ©e.  Voir \fBOPTIONS FTP/HTTP\fP pour obtenir de l'information sur le support intÃ©grÃ© d'un client ftp et http par RPM.
.IP "\fB\-\-specfile \fI<fichier_de_specs>\fP"
Analyse syntaxiquement (parse) et interroge \fI<fichier_de_specs>\fP comme s'il Ã©tait un paquetage. Bien que toutes les informations (p.ex. les listes de fichiers) ne soient pas disponibles, ce type d'interrogation permet Ã  rpm d'Ãªtre utilisÃ© pour extraire de l'information de fichiers de spÃ©cifications sans avoir Ã  Ã©crire un parseur de fichiers de spÃ©cifications.
.IP "\fB\-\-querybynombre \fI<nombre>\fP"
Interroger la \fI<nombre>\fPiÃ¨me entrÃ©e de la base de donnÃ©es directement; ceci est utile Ã  des fins de dÃ©boggage.
.IP "\fB\-\-triggeredby \fI<pkg>\fP"
Interroger les paquetages qui sont dÃ©clenchÃ©s par les paquetages \fI<pkg>\fP.

.P
Options de sÃ©lection d'information :
.br
.IP "\fB\-i\fP"
Afficher l'information du paquetage, incluant son nom, sa version, et sa description.  Cette option utilisera \fB\-\-queryformat\fP s'il a Ã©tÃ© spÃ©cifiÃ©.
.IP "\fB\-R\fP, \fB\-\-requires\fP"
Lister les paquetages desquels dÃ©pend ce paquetage.
.IP "\fB\-\-provides\fP"
Lister les capacitÃ©s que fournit ce paquetage.
.IP "\fB\-\-changelog\fP"
Lister les informations de modifications de ce paquetage.
.IP "\fB\-l\fP, \fB\-\-list\fP"
Lister les fichiers du paquetage.
.IP "\fB\-s\fP, \fB\-\-state\fP"
Afficher les \fIÃ©tats\fP des fichiers du paquetage (implique \fB\-l\fP).  L'Ã©tat de chaque fichier est soit \fInormal\fP, \fInon installÃ©\fP, ou \fIremplacÃ©\fP.
.IP "\fB\-d\fP, \fB\-\-docfiles\fP"
Lister uniquement les fichiers de documentation (implique \fB\-l\fP).  
.IP "\fB\-c\fP, \fB\-\-configfiles\fP"
Lister uniquement les fichiers de configuration (implique \fB\-l\fP).  
.IP "\fB\-\-scripts\fP"
Lister les scripts shell spÃ©cifiques au paquetage qui sont utilisÃ©s comme une partie des processus d'installation et de dÃ©sinstallation, s'il y en a.
.IP "\fB\-\-triggers\fP, \fB\-\-triggerscripts\fP"
Afficher les scripts de dÃ©clenchement, s'il y en a, qui sont contenus dans le paquetage.
.IP "\fB\-\-dump\fP"
Afficher l'information du fichier comme suit : chemin taille mtime somme_md5 mode propriÃ©taire groupe isconfig isdoc rdev symlink.  Ceci doit Ãªtre utilisÃ© avec au moins une option parmi \fB\-l\fP, \fB\-c\fP, \fB\-d\fP.
.IP "\fB\-\-last\fP"
Ordonner le listing des paquetages par date d'installation de sorte que les derniers fichiers installÃ©s soient au sommet.
.IP "\fB\-\-filesbypkg\fP"
Lister tous les fichiers de chaque paquetage.
.IP "\fB\-\-triggerscripts\fP"
Montrer tous les scripts de dÃ©clenchement pour les paquetages sÃ©lectionnÃ©s.

.SH OPTIONS DE VERIFICATION
La forme gÃ©nÃ©rale d'une commande de vÃ©rification rpm est
.PP
	\fBrpm \-V|\-y|\-\-verify [verify\-options]\fP
.PP
VÃ©rifier un paquetage compare les informations sur les fichiers installÃ©s dans le paquetage avec les informations sur les fichiers obtenues Ã  partir du paquetage original et conservÃ©es dans la base de donnÃ©es rpm.  Entre autres choses, la vÃ©rification compare la taille, la somme MD5, les permissions, le propriÃ©taire et les groupes de chaque fichier.  Toutes les discordances sont affichÃ©es.  Les options de spÃ©cification de paquetage sont les mÃªmes que pour l'interrogation de paquetages.

Les fichiers qui n'Ã©taient pas installÃ©s en provenance du paquetage, par exemple les fichiers de documentation exclus Ã  l'installation en utilisant l'option "\fB\-\-excludedocs\fP", sont ignorÃ©s silencieusement.

Options pouvant Ãªtre utilisÃ©es en mode de vÃ©rification :

.IP "\fB\-\-nomd5\fP"
Ignore les erreurs de somme de contrÃ´le MD5 pendant la vÃ©rification.
.IP "\fB\-\-nopgp\fP"
Ignore les erreurs de contrÃ´le PGP pendant la vÃ©rification.
.IP "\fB\-\-nofiles\fP"
Ignore les fichiers manquants pendant la vÃ©rification.

Le format de sortie est constituÃ© d'une chaÃ®ne de caractÃ¨res de 8 caractÃ¨re, d'un "\fBc\fP" Ã©ventuel dÃ©nottant un fichier de configuration, et ensuite du nom du fichier.  Chacun des 8 caractÃ¨res dÃ©note le rÃ©sultat d'une comparaison d'un attribut du fichier avec la valeur de cet attribut enregistrÃ© dans la base de donnÃ©es rpm.  Un simple "\fB.\fP" (point) signifie que le test s'est bien passÃ©.  Les caractÃ¨res suivants dÃ©note l'Ã©chec Ã  certains tests :

.IP "\fB5\fP"
Somme MD5
.IP "\fBS\fP"
Taille du fichier
.IP "\fBL\fP"
Lien symbolique
.IP "\fBT\fP"
Mtime
.IP "\fBD\fP"
PÃ©riphÃ©rique
.IP "\fBU\fP"
Utilisateur
.IP "\fBG\fP"
Groupe
.IP "\fBM\fP"
Mode (inclut les permissions et le type de fichier)

.SH VERIFICATION DE SIGNATURE
La forme gÃ©nÃ©rale d'une commande de vÃ©rification d'une signature rpm est
.PP
	\fBrpm \-\-checksig \fI<fichier_paquetage>+\fP
.PP
Ceci vÃ©rifie la signature PGP du paquetage \fI<fichier_paquetage>\fP pour s'assurer de son intÃ©gritÃ© et de son origine.  Les informations de configurations de PGP sont lues Ã  partir des fichiers de configuration.  Voir la section sur les SIGNATURES PGP pour les dÃ©tails.

.SH OPTIONS DE DESINSTALLATION
La forme gÃ©nÃ©rale d'une commande de dÃ©sinstallation rpm est
.PP
	\fB    rpm \-e \fI<nom_paquetage>+\fP
.PP
.IP "\fB\-\-allmatches\fP"
Supprimer toutes les versions du paquetage auquel correspond \fI<nom_paquetage>\fR.  Normalement, une erreur est Ã©mise si \fI<paquetage_nom>\fR correspond Ã  de multiples paquetages.
.IP "\fB\-\-noscripts\fP"
Ne pas exÃ©cuter les scripts de prÃ©\- et de post\- dÃ©sinstallation.
.IP "\fB\-\-notriggers\fP"
Ne pas exÃ©cuter les scripts qui sont dÃ©clenchÃ©s par la suppression de ce paquetage.
.IP "\fB\-\-nodeps\fP"
Ne pas vÃ©rifier les dÃ©pendances avant de dÃ©sinstaller les paquetages.
.IP "\fB\-\-test\fP"
Ne pas rÃ©ellement dÃ©sinstaller quoi que ce soit, juste effectuer un test pour voir si c'est possible.  Utile en conjonction avec l'option \fB\-vv\fP.

.SH OPTIONS DE CONSTRUCTION
La forme gÃ©nÃ©rale d'une commande de construction rpm est
.PP
    \fBrpm \-[b|t]\fIO\fP [options_de_construction] \fI<spec_paquetage>+\fP
.PP
L'argument utilisÃ© est \fB-b\fR si un fichier de spÃ©cifications est utilisÃ© pour construire le paquetage et \fB-t\fR si \fBRPM\fR devrait regarder Ã  l'intÃ©rieur d'un fichier gzippÃ© (ou tarrÃ©) pour obtenir le fichier de spÃ©cifications Ã  utiliser.  AprÃ¨s le premier argument, l'argument suivant (\fIO\fR) spÃ©cifie les Ã©tapes de construction et de mise en paquets Ã  effectuer et est un argument parmi :

.IP "\fB\-bp\fP"
ExÃ©cute l'Ã©tape "%prep" du fichier de spÃ©cifications.  Normalement, ceci implique de dÃ©baller les sources et d'appliquer tous les patchs.
.IP "\fB\-bl\fP"
Faire une "vÃ©rification de liste".  La section "%files" du fichier de spÃ©cifications subit l'expansion des macros, et des vÃ©rifications sont effectuÃ©es pour vÃ©rifier que chaque fichier existe.
.IP "\fB\-bc\fP"
Effectuer l'Ã©tape "%build" du fichier de spÃ©cifications (aprÃ¨s avoir effectuÃ© l'Ã©tape prep).  Cela implique en gÃ©nÃ©ral l'Ã©quivalent d'un "make".
.IP "\fB\-bi\fP"
Effectuer l'Ã©tape "%install" du fichier de spÃ©cifications (aprÃ¨s avoir effectuÃ© les Ã©tapes prep et build).  Cela implique en gÃ©nÃ©ral l'Ã©quivalent d'un "make install".
.IP "\fB\-bb\fP"
Construire un paquetage binaire (aprÃ¨s avoir effectuÃ© les Ã©tapes prep, build, et install).
.IP "\fB\-bs\fP"
Construire uniquement le paquetage source (aprÃ¨s avoir effectuÃ© les Ã©tapes prep, build, et install).
.IP "\fB\-ba\fP"
Construire les paquetages paquetages binaires et sources (aprÃ¨s avoir effectuÃ© les Ã©tapes prep, build, et install).
.PP
Les options suivantes peuvent Ã©galement Ãªtre utilisÃ©es :
.IP "\fB\-\-short\-circuit\fP"
Passer directement Ã  l'Ã©tape spÃ©cifiÃ©e (Ã§Ã d, passer toutes les Ã©tapes menant Ã  l'Ã©tape spÃ©cifiÃ©e).  Uniquement valide avec \fB\-bc\fP et \fB\-bi\fP.
.IP "\fB\-\-timecheck\fP"
Fixer l'Ã¢ge de "timecheck" (0 pour le dÃ©sactiver).  Cette valeur peut Ã©galement Ãªtre configurÃ©e en dÃ©finissant la macro "_timecheck".  La valeur de timecheck exprime, en secondes, l'Ã¢ge maximum d'un fichier en train d'Ãªtre mis en paquetage.  Des avertissements seront affichÃ©s pour tous les fichiers au\-delÃ  de l'Ã¢ge de timecheck.
.IP "\fB\-\-clean\fP"
Supprimer l'arbre de construction aprÃ¨s que les paquetages aient Ã©tÃ© crÃ©Ã©s.
.IP "\fB\-\-rmsource\fP"
Supprimer les sources et le fichier de spÃ©cifications aprÃ¨s la construction (peut Ã©galement Ãªtre utilisÃ© seul, p.ex. "\fBrpm \-\-rmsource foo.spec\fP").
.IP "\fB\-\-test\fP"
N'exÃ©cuter aucune Ã©tape de construction.  Utile pour tester en profondeur les fichiers de spÃ©cifications.
.IP "\fB\-\-sign\fP"
Incorpore une signature PGP dans le paquetage.  Cette signature peut Ãªtre utilisÃ©e pour vÃ©rifier l'intÃ©gritÃ© et l'origine du paquetage.  Voir la section sur les SIGNATURES PGP pour les dÃ©tails de configuration.
.IP "\fB\-\-buildroot \fI<rÃ©pertoire>\fP"
Pendant la construction du paquetage, surcharger l'Ã©tiquette de Construction de Racine avec le rÃ©pertoire \fI<rÃ©pertoire>\fP.
.IP "\fB\-\-target \fI<plate\-forme>\fP"
Pendant la construction du paquetage, interprÃ©ter \fI<plate\-forme>\fP comme \fBarch-vendor-os\fP et fixer les macros \fB_target\fP, \fB_target_arch\fP et \fB_target_os\fP en consÃ©quence.
.IP "\fB\-\-buildarch \fI<arch>\fP"
Pendant la construction du paquetage, fixer l'architecture Ã  \fI<arch>\fP.  Cette option a Ã©tÃ© rendue obsolÃ¨te par \fB\-\-target\fI dans RPM 3.0.
.IP "\fB\-\-buildos \fI<se>\fP"
Pendant la construction du paquetage, fixer l'architecture Ã  \fI<os>\fP.  Cette option a Ã©tÃ© rendue obsolÃ¨te par \fB\-\-target\fI dans RPM 3.0.

.SH OPTIONS DE RECONSTRUCTION ET DE RECOMPILATION

Il y a deux autres faÃ§ons d'invoquer une construction avec rpm:

.I "\fBrpm \-\-recompile \fI<fichier_paquetage_sources>+\fP"

.I "\fBrpm \-\-rebuild \fI<fichier_paquetage_sources>+\fP"

Quand il est invoquÃ© de cette faÃ§on, \fBrpm\fP installe le paquetage de sources dÃ©signÃ©, et effectue une prÃ©paration, une compilation et une installation.  En plus, \fB\-\-rebuild\fP construit un nouveau paquetage bianire.  Quand la construction est terminÃ©e, le rÃ©pertoire de construction est supprimÃ© (comme avec \fB\-\-clean\fP) et les sources ainsi que le fichier de spÃ©cifications du paquetage sont supprimÃ©s.

.SH SIGNATURE D'UN RPM EXISTANT

.I "\fBrpm \-\-resign \fI<fichier_paquetage_binaires>+\fP"

Cette option gÃ©nÃ¨re et insÃ¨re de nouvelles signatures pour les paquetages spÃ©cifiÃ©s.  Toute signature existante est supprimÃ©e.

.I "\fBrpm \-\-addsign \fI<fichier_paquetage_binaires>+\fP"

Cette option gÃ©nÃ¨re et concatÃ¨ne les nouvelles signatures des paquetages spÃ©cifiÃ©s Ã  celles qui existaient dÃ©jÃ .

.SH SIGNATURES PGP

Pour utiliser la caractÃ©ristique des signatures, RPM doit Ãªtre configurÃ© pour lancer PGP, et il doit Ãªtre capable de trouver un groupe de clÃ©s publiques (keyring) avec des clÃ©s publiques RPM Ã  l'intÃ©rieur.  Par dÃ©faut, RPM utilise les comportements par dÃ©faut de PGP pour trouver les keyrings (en utilisant PGPPATH).  Si vos keyrings ne sont pas situÃ©es lÃ  oÃ¹ PGP s'attend Ã  ce qu'elles soient, vous aurez besoin de configurer la macro

.IP "\fB_pgp_path\fP"
pour fournir la localisation des keyrings PGP Ã  utiliser.
.PP

Si vous voulez Ãªtre capable de signer les paquetages que vous avez crÃ©Ã©s vous\-mÃªme, vous devrez Ã©galement crÃ©er votre propre paire clÃ© publique/clÃ© secrÃ¨te (voir le manuel PGP).  Vous devrez Ã©galement configurer les macros suivantes :

.IP "\fB_signature\fP"
Le type de la signature.  Actuellement, seule celle de pgp est supportÃ©e.
.IP "\fB_pgp_name\fP"
Le nom de l'"utilisateur" dont vous voulez utiliser la clÃ© pour signer vos paquetages.
.PP

Pendant la construction de paquetages, vous ajouterez ensuite le signe \-\- Ã  la ligne de commandes.  On vous demandera votre phrase de passe, et votre paquetage sera construit et signÃ©.

Par exemple, pour Ãªtre capable d'utiliser PGP pour signer les paquetages en tant qu'utilisateur \fp"John Doe <jdoe@foo.com>"\fP Ã  partir des key rings situÃ©es dans \fB/etc/rpm/.pgp\fP en utilisant l'exÃ©cutable \fB/usr/bin/pgp\fP, vous devriez inclure

.I "\fB%_signature pgp\fP"

.I "\fB%_pgp_path /etc/rpm/.pgp\fP"

.I "\fB%_pgp_name John Doe <jdoe@foo.com>\fP"

.I "\fB%_pgpbin /usr/bin/pgp\fP"

dans un fichier de configuration de macros.  Utilisez \fB/etc/rpm/macros\fP pour une configuration par systÃ¨me et \fB~/.rpmmacros\fP pour une configuration par utilisateur.

.SH OPTIONS DE RECONSTRUCTION DE LA BASE DE DONNEES

La forme gÃ©nÃ©rale d'une commande de reconstruction d'une base de donnÃ©es rpm est
.PP
	\fBrpm \-\-rebuiddb\fP
.PP

Pour reconstuire une nouvelle base de donnÃ©es, tapez :
.PP
	\fBrpm \-\-initdb\fP
.PP

Les seules options pour ces modes sont \fB-\-dbchemin\fP et \fB-\-root\fP.

.SH SHOWRC 

Lancer

.PP
	\fBrpm \-\-showrc\fP

.PP
montrera les valeurs que va utiliser RPM pour toutes les options qui peuvent Ãªtre fixÃ©es dans les fichiers \fIrpmrc\fP.

.SH OPTIONS FTP/HTTP

RPM inclut des simples clients FTP et HTTP pour simplifier l'installation et l'interrogation de paquetages qui sont disponibles sur internet.  Les fichiers de paquetage pour l'installation, la mise Ã  niveau et les opÃ©rations d'interrogation peuvent Ãªtre spÃ©cifiÃ©s dans une URL du style ftp ou http :

.PP
	\fBftp://<utilisateur>:<mot_de_passe>@nom_hÃ´te:<port>/chemin/vers/paquetage.rpm\fP
.PP
Si la partie \fB:mot_de_passe\fP est omise, le mot de passe sera demandÃ© (une seule fois par paire utilisateur/nom_hÃ´te).  Si l'utilisateur et le mot de passe sont omis, le ftp anonyme est utilisÃ©.  Dans tous les cas, des transferts ftp passifs (PASV) sont utilisÃ©s.

RPM permet d'utiliser les options suivantes avec les URLs ftp :

.IP "\fB\--ftpproxy \fI<nom_hÃ´te>\fP"
L'hÃ´te \fI<nom_hÃ´te>\fP sera utilisÃ© comme un serveur dÃ©lÃ©guÃ© (proxy) pour tous les transferts ftp, ce qui permet aux utilisateurs d'effectuer des connexions au travers des gardes\-barriÃ¨re qui utilisent des systÃ¨mes de proxies.  Cette option peut Ã©galement Ãªtre spÃ©cifiÃ©e en configurant la macro \fB_ftpproxy\fP.

.IP "\fB\--ftpport \fI<port>\fP"
Le port TCP numÃ©ro \fI<port>\fP Ã  utiliser pour les connexions ftp sur le serveur proxy ftp au lieu du port par dÃ©faut.  Cette option peut Ã©galement Ãªtre spÃ©cifiÃ©e en configurant la macro \fB_ftpport\fP.
.PP

RPM permet d'utiliser les options suivantes avec les URLs http :

.IP "\fB\--httpproxy \fI<nom_hÃ´te>\fP"
L'hÃ´te \fI<nom_hÃ´te>\fP sera utilisÃ© comme un serveur dÃ©lÃ©guÃ© (proxy) pour tous les transferts http.  Cette option peut Ã©galement Ãªtre spÃ©cifiÃ©e en configurant la macro \fB_httpproxy\fP.

.IP "\fB\--httpport \fI<port>\fP"
Le port TCP numÃ©ro \fI<port>\fP Ã  utiliser pour les connexions http sur le serveur proxy ftp au lieu du port par dÃ©faut.  Cette option peut Ã©galement Ãªtre spÃ©cifiÃ©e en configurant la macro \fB_httpport\fP.
.PP

.SH FICHIERS
.nf
/usr/lib/rpm/rpmrc
/etc/rpmrc
~/.rpmrc
/usr/lib/rpm/macros
/etc/rpm/macros
~/.rpmmacros
/var/lib/rpm/conflictsindex.rpm
/var/lib/rpm/fileindex.rpm
/var/lib/rpm/groupindex.rpm
/var/lib/rpm/nameindex.rpm
/var/lib/rpm/packages.rpm
/var/lib/rpm/providesindex.rpm
/var/lib/rpm/requiredby.rpm
/var/lib/rpm/triggerindex.rpm
/tmp/rpm*
.fi
.El
.SH VOIR AUSSI
.IR glint (8)
,
.IR rpm2cpio (8)
,
.B http://www.rpm.org/
.nf
.SH AUTEURS
.nf
Marc Ewing <marc@redhat.com>
Jeff Johnson <jbj@redhat.com>
Erik Troan <ewt@redhat.com>
.fi
.SH TRADUCTION
FrÃ©dÃ©ric Delanoy, 2000.
