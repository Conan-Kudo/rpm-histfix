<?xml version="1.0"?>
<!--
	This is an example XML spec file to demonstrate the xml2spec
	conversion program. By running "xml2spec example.spec.xml" it
	will create an output spec in "normal" RPM spec format, ready
	for comsumption by rpmbuild.
-->
<spec name="example"
	  version="1.0"
	  release="06"
	  copyright="GPL"
	  url="http://www.rpm.org/"
	  distribution="Any distribution"
	  vendor="rpm.org"
	  packager="Jaco Greeff"
	  packager-email="jaco@puxedo.org"
	  buildroot="%{tmppath}/lvr-%{name}-build">

	<macro name="test">value is this</macro>

	<source name="rpm-4.0.4.tar.bz2"
			num="0"
			size="4296845"
			md5="bb80a5d06a48623ecbe3f2d41cac15f9">
		<mirror path="ftp://ftp.rpm.org/"
				description="Main RPM FTP site" />
		<mirror path="http://www.puxedo.org/downloads/source/"
				description="puxedo.org source distribution"
				country="za" />
	</source>
	<source name="expat-1.95.2.tar.bz2"
			num="1"
			size="156575"
			md5="919c78ddaf7f319b7e07792309ae2f22">
		<mirror path="http://expat.sourceforge.net/"
				description="SourceForge Mirror"
				country="us" />
	</source>

	<patch name="example-1.0-1.patch.bz2"
		   num="0"
		   size="3276"
		   md5="467c78cbdf75619b7e0abc2309ae2f11" />

	<nosource name="nosource-sample-0.98.bz2"
			   num="33" />

	<package group="System/Libraries">
		<buildrequires>
			<package name="automake" />
			<package name="autoconf" />
			<package name="bash" />
			<package name="binutils" />
			<package name="gcc" />
			<package name="glibc-devel" />
		</buildrequires>
		<requires>
			<package name="gcc" cmp="ge" version="2.95" />
			<package name="glibc" cmp="ge" version="2.2" />
			<package name="libogg" />
		</requires>
		<provides>
			<package name="%{name}" />
		</provides>
		<obsoletes>
			<package name="old-example" />
		</obsoletes>
		<summary>This spec is just an example for some funny purpose.</summary>
		<summary lang="af">Hierdie is net 'n toets vir i18n in die opsomming</summary>
		<description>%{summary}</description>
		<description lang="af">Nog 'n toets, hierdie keer in die beskrywing</description>
		 <post>
			<script interpreter="/bin/sh">/sbin/ldconfig</script>
		</post>
		<postun>
			<script>/sbin/ldconfig</script>
		</postun>
		<files>
			<file user="root" group="root">/usr/lib/*.so*</file>
		</files>
	</package>

	<package name="devel"
			 group="Development/Libraries">
		<requires>
			<package name="%{name}" />
			<package name="libtool" />
			<package name="m4" />
		</requires>
		<summary>The libvorbis-devel package contains development headers.</summary>
		<description>%{summary}</description>
		<pre>
			<script>some pre stuff under devel</script>
			<script dir="/here/while/we/are/at/it">That ^^^ changed directory</script>
		</pre>
		<files user="root"
				group="root">
			<file>/usr/include/*.h</file>
			<file group="rpm">/usr/lib/*.la</file>
			<file user="rpm">/usr/share/aclocal/*</file>
			<file mode="777">/usr/share/m4/*</file>
			<file user="user" group="group" mode="444">/usr/share/man/*</file>
		</files>
	</package>

	<package name="toys" sub="no" group="Application/Toys">
		<requires>
			<package name="%{name}" />
		</requires>
		<obsoletes>
			<package name="oldtoys" />
		</obsoletes>
		<summary>The toys package contains toys</summary>
		<description>%{summary}</description>
		<preun>
			<script>some preun stuff under toys</script>
		</preun>
		<verify>
			<script>Some verify stuff under toys</script>
		</verify>
		<files>
			<file>/usr/doc/*</file>
		</files>
	</package>

	<prep>
		<script>rm -rf $RPM_BUILD_DIR/%{name}-%{version}rc3</script>
		<script>rm -rf %{buildroot}</script>
		<setup path="%{name}-%{version}rc3" />
	</prep>

	<build>
		<script>./configure --prefix=/usr</script>
		<script>make PROFILE=&apos;-Wall -W -pg -g -O2 -ffast-math -D_REENTRANT -fsigned-char -fno-inline -static' CFLAGS='-O2 -ffast-math -D_REENTRANT -fsigned-char -DUSE_MEMORY_H&apos;</script>
	</build>

	<install>
		<script>make DESTDIR=%{buildroot} install</script>
	</install>

	<clean>
		<script>rm -rf %{buildroot}</script>
		<script>rm -rf $RPM_BUILD_DIR/%{name}-%{version}rc3</script>
	</clean>

	<changelog>
		<changes date="Wed Jun 05 2002"
				 author="Jaco Greeff"
				 author-email="jaco@puxedo.org"
				 version="1.0-06">
			<change>Changed spec to make sure the output spec file can be understood by RPM</change>
			<change>Added languages (description/summary) and a test in Afrikaans</change>
		</changes>
		<changes date="Mon Jun 03 2002"
				 author="Jaco Greeff"
				 author-email="jaco@puxedo.org"
				 version="1.0-05">
			<change>Changed file attributes to mode, user and group</change>
		</changes>
		<changes date="Thu May 30 2002"
				 author="Jaco Greeff"
				 author-email="jaco@puxedo.org"
				 version="1.0-04">
			<change>Added attribute &quot;interpreter&quot; to script</change>
		</changes>
		<changes date="Sat May 25 2002"
				 author="Jaco Greeff"
				 author-email="jaco@puxedo.org"
				 version="1.0-03">
			<change>Moved &lt;files&gt; into &lt;package&gt; structure</change>
			<change>Added &lt;nosource&gt; tag as example</change>
			<change>Changed &lt;shell&gt; to &lt;script&gt;</change>
		</changes>
		<changes date="Sun May 19 2002"
				 author="Jaco Greeff"
				 author-email="jaco@puxedo.org"
				 version="1.0-02">
			<change>Changed the formatting of the XML file to fit in with new implementation</change>
			<change>Commented the spec to allow others to understand it as well</change>
		</changes>
		<changes date="Wed May 15 2002"
				 author="Jaco Greeff"
				 author-email="jaco@puxedo.org"
				 version="1.0-01">
			<change>Converted spec file to .spec.xml file for illustrative purposes</change>
		</changes>
	</changelog>
</spec>
