#    rpmgeneral.at: Some very basic checks
#
#    Copyright (C) 2007  Ralf Cors√©pius <corsepiu@fedoraproject.org>
#
#    This program is free software; you can redistribute it and/or modify
#    it under the terms of the GNU General Public License as published by
#    the Free Software Foundation; either version 2 of the License, or
#    (at your option) any later version.
#
#    This program is distributed in the hope that it will be useful,
#    but WITHOUT ANY WARRANTY; without even the implied warranty of
#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#    GNU General Public License for more details.
#
#    You should have received a copy of the GNU General Public License
#    along with this program; if not, write to the Free Software
#    Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA

# ------------------------------
AT_SETUP([rpm --version])
AT_CHECK([rpm --version],[0],
[RPM version AT_PACKAGE_VERSION
])
AT_CLEANUP


# ------------------------------
AT_SETUP([rpmbuild --version])
AT_CHECK([rpmbuild --version],[0],
[RPM version AT_PACKAGE_VERSION
])
AT_CLEANUP


# ------------------------------
AT_SETUP([rpmquery --version])
AT_CHECK([rpmquery --version],[0],
[RPM version AT_PACKAGE_VERSION
])
AT_CLEANUP


# ------------------------------
AT_SETUP([rpmi --version])
AT_CHECK([rpmi --version],[0],
[RPM version AT_PACKAGE_VERSION
])
AT_CLEANUP


# ------------------------------
AT_SETUP([rpm --showrc])
AT_CHECK([rpm --rcfile="${RPMRC}" --showrc],[0],
[ignore])
AT_CLEANUP


# ------------------------------
# Check rpm --querytags
# * Some versions of rpm append extraneous whitespaces
AT_SETUP([rpmquery --querytags])
AT_CHECK([rpmquery --querytags],[0],
[ARCH
ARCHIVESIZE
BASENAMES
BLINKHDRID
BLINKNEVRA
BLINKPKGID
BUILDARCHS
BUILDCPUCLOCK
BUILDHOST
BUILDPLATFORMS
BUILDTIME
CACHECTIME
CACHEPKGMTIME
CACHEPKGPATH
CACHEPKGSIZE
CAPABILITY
CHANGELOGNAME
CHANGELOGTEXT
CHANGELOGTIME
CLASSDICT
CONFLICTATTRSX
CONFLICTFLAGS
CONFLICTNAME
CONFLICTS
CONFLICTVERSION
COOKIE
C
CVSID
DEPATTRSDICT
DEPENDSDICT
DESCRIPTION
DIRINDEXES
DIRNAMES
DISTRIBUTION
DISTTAG
DISTURL
DSAHEADER
ENHANCESFLAGS
ENHANCESNAME
ENHANCES
ENHANCESVERSION
EPOCH
E
EXCLUDEARCH
EXCLUDEOS
EXCLUSIVEARCH
EXCLUSIVEOS
FILECLASS
FILECOLORS
FILECONTEXTS
FILEDEPENDSN
FILEDEPENDSX
FILEDEVICES
FILEDIGESTALGOS
FILEDIGESTS
FILEFLAGS
FILEGROUPNAME
FILEINODES
FILELANGS
FILELINKTOS
FILEMD5S
FILEMODES
FILEMTIMES
FILERDEVS
FILESIZES
FILESTATES
FILEUSERNAME
FILEVERIFYFLAGS
FILEXATTRSX
FLINKHDRID
FLINKNEVRA
FLINKPKGID
FSCONTEXTS
GIF
GROUP
HDRID
HEADERI18NTABLE
HEADERIMAGE
HEADERIMMUTABLE
HEADERREGIONS
HEADERSIGNATURES
ICON
INSTALLCOLOR
INSTALLTID
INSTALLTIME
INSTPREFIXES
KEYWORDS
LICENSE
NAME
N
OBSOLETEATTRSX
OBSOLETEFLAGS
OBSOLETENAME
OBSOLETES
OBSOLETEVERSION
OLDFILENAMES
OPTFLAGS
ORIGBASENAMES
ORIGDIRINDEXES
ORIGDIRNAMES
O
OS
PACKAGECOLOR
PACKAGEORIGIN
PACKAGEPREFCOLOR
PACKAGER
PATCH
PATCHESFLAGS
PATCHESNAME
PATCHESVERSION
PAYLOADCOMPRESSOR
PAYLOADFLAGS
PAYLOADFORMAT
PKGID
PLATFORM
POLICIES
POSTIN
POSTINPROG
POSTTRANS
POSTTRANSPROG
POSTUN
POSTUNPROG
PREFIXES
PREIN
PREINPROG
PRETRANS
PRETRANSPROG
PREUN
PREUNPROG
PRIORITY
PROVIDEATTRSX
PROVIDEFLAGS
PROVIDENAME
PROVIDES
PROVIDEVERSION
P
PUBKEYS
RECONTEXTS
RELEASE
REMOVETID
REPOTAG
REQUIREATTRSX
REQUIREFLAGS
REQUIRENAME
REQUIRES
REQUIREVERSION
RHNPLATFORM
RPMVERSION
R
RSAHEADER
SCRIPTMETRICS
SCRIPTSTATES
SHA1HEADER
SIGGPG
SIGMD5
SIGPGP
SIGSIZE
SIZE
SOURCE
SOURCEPACKAGE
SOURCEPKGID
SOURCERPM
SUGGESTSFLAGS
SUGGESTSNAME
SUGGESTS
SUGGESTSVERSION
SUMMARY
SVNID
TRIGGERFLAGS
TRIGGERINDEX
TRIGGERNAME
TRIGGERSCRIPTPROG
TRIGGERSCRIPTS
TRIGGERVERSION
URL
VARIANTS
VENDOR
VERIFYSCRIPT
VERIFYSCRIPTPROG
VERSION
V
XATTRSDICT
XMAJOR
XMINOR
XPM
FILENAMES
FILEPROVIDE
FILEREQUIRE
FSNAMES
FSSIZES
INSTALLPREFIX
TRIGGERCONDS
TRIGGERTYPE
])
AT_CLEANUP
