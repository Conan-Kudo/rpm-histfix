<!--Id: env_dbremove.so,v 10.31 2002/08/02 18:41:14 bostic Exp -->
<!--Copyright 1997-2002 by Sleepycat Software, Inc.-->
<!--All rights reserved.-->
<!--See the file LICENSE for redistribution information.-->
<html>
<head>
<title>Berkeley DB: DbEnv.dbremove</title>
<meta name="description" content="Berkeley DB: An embedded database programmatic toolkit.">
<meta name="keywords" content="embedded,database,programmatic,toolkit,b+tree,btree,hash,hashing,transaction,transactions,locking,logging,access method,access methods,java,C,C++">
</head>
<body bgcolor=white>
<a name="2"><!--meow--></a>
<table width="100%"><tr valign=top>
<td>
<h1>DbEnv.dbremove</h1>
</td>
<td align=right>
<a href="../api_java/c_index.html"><img src="../images/api.gif" alt="API"></a><a href="../reftoc.html"><img src="../images/ref.gif" alt="Ref"></a>
</td></tr></table>
<hr size=1 noshade>
<tt>
<h3><pre>
import com.sleepycat.db.*;
import java.io.FileNotFoundException;
<p>
public void dbremove(DbTxn txnid, String file, String database, int flags)
    throws DbException, FileNotFoundException;
</pre></h3>
<h1>Description</h1>
<p>The DbEnv.dbremove method removes the database specified by the
<b>file</b> and <b>database</b> arguments.  If no <b>database</b> is
specified, the underlying file represented by <b>file</b> is removed,
incidentally removing all databases that it contained.
<p>Applications should never remove databases with open <a href="../api_java/db_class.html">Db</a> handles,
or in the case of removing a file, when any database in the file has an
open handle.  For example, some architectures do not permit the removal
of files with open system handles.  On these architectures, attempts to
remove databases currently in use by any thread of control in the system
will fail.
<p>If the operation is to be transaction-protected, the <b>txnid</b>
parameter is a transaction handle returned from <a href="../api_java/txn_begin.html">DbEnv.txn_begin</a>;
otherwise, null.
<p>The <b>flags</b> value must be set to 0 or
the following value:
<p><dl compact>
<p><dt><a name="Db.DB_AUTO_COMMIT">Db.DB_AUTO_COMMIT</a><dd>Enclose the DbEnv.dbremove call within a transaction.  If the call succeeds,
changes made by the operation will be recoverable.  If the call fails,
the operation will have made no changes.
</dl>
<p>The DbEnv.dbremove method throws an exception that encapsulates a non-zero error value on
failure.
<h1>Environment Variables</h1>
<p><dl compact>
<p><dt>DB_HOME<dd>The 
environment variable <b>DB_HOME</b> may be used as the path of the
database environment home.
<p>DbEnv.dbremove is affected by any database directory specified using the
<a href="../api_java/env_set_data_dir.html">DbEnv.set_data_dir</a> method, or by setting the "set_data_dir" string
in the environment's <b>DB_CONFIG</b> file.
</dl>
<h1>Errors</h1>
<p>The DbEnv.dbremove method may fail and throw an exception encapsulating a non-zero error for the following conditions:
<p><dl compact>
<p><dt>EINVAL<dd>An invalid flag value or parameter was specified.
<p>A database in the file is currently open.
<p>Called before <a href="../api_java/env_open.html">DbEnv.open</a> was called.
</dl>
<p>If the file or directory does not exist, the DbEnv.dbremove method will
fail and
throw a FileNotFoundException exception.
<p>The DbEnv.dbremove method may fail and throw an exception for errors specified for other Berkeley DB and C library or system methods.
If a catastrophic error has occurred, the DbEnv.dbremove method may fail and
throw a <a href="../api_java/runrec_class.html">DbRunRecoveryException</a>,
in which case all subsequent Berkeley DB calls will fail in the same way.
<h1>Class</h1>
<a href="../api_java/dbenv_class.html">DbEnv</a>
<h1>See Also</h1>
<a href="../api_java/env_close.html">DbEnv.close</a>,
<a href="../api_java/env_dbremove.html">DbEnv.dbremove</a>,
<a href="../api_java/env_dbrename.html">DbEnv.dbrename</a>,
<a href="../api_java/env_err.html">DbEnv.err</a>,
<a href="../api_java/env_err.html">DbEnv.errx</a>,
<a href="../api_java/env_version.html">DbEnv.get_version_string</a>,
<a href="../api_java/env_open.html">DbEnv.open</a>,
<a href="../api_java/env_remove.html">DbEnv.remove</a>,
<a href="../api_java/env_set_app_dispatch.html">DbEnv.set_app_dispatch</a>,
<a href="../api_java/env_set_cachesize.html">DbEnv.set_cachesize</a>,
<a href="../api_java/env_set_data_dir.html">DbEnv.set_data_dir</a>,
<a href="../api_java/env_set_encrypt.html">DbEnv.set_encrypt</a>,
<a href="../api_java/env_set_errcall.html">DbEnv.set_errcall</a>,
<a href="../api_java/env_set_error_stream.html">DbEnv.set_error_stream</a>,
<a href="../api_java/env_set_errpfx.html">DbEnv.set_errpfx</a>,
<a href="../api_java/env_set_feedback.html">DbEnv.set_feedback</a>,
<a href="../api_java/env_set_flags.html">DbEnv.set_flags</a>,
<a href="../api_java/env_set_lg_bsize.html">DbEnv.set_lg_bsize</a>,
<a href="../api_java/env_set_lg_dir.html">DbEnv.set_lg_dir</a>,
<a href="../api_java/env_set_lg_max.html">DbEnv.set_lg_max</a>,
<a href="../api_java/env_set_lg_regionmax.html">DbEnv.set_lg_regionmax</a>,
<a href="../api_java/env_set_lk_conflicts.html">DbEnv.set_lk_conflicts</a>,
<a href="../api_java/env_set_lk_detect.html">DbEnv.set_lk_detect</a>,
<a href="../api_java/env_set_lk_max_lockers.html">DbEnv.set_lk_max_lockers</a>,
<a href="../api_java/env_set_lk_max_locks.html">DbEnv.set_lk_max_locks</a>,
<a href="../api_java/env_set_lk_max_objects.html">DbEnv.set_lk_max_objects</a>,
<a href="../api_java/env_set_mp_mmapsize.html">DbEnv.set_mp_mmapsize</a>,
<a href="../api_java/env_set_rpc_server.html">DbEnv.set_rpc_server</a>,
<a href="../api_java/env_set_shm_key.html">DbEnv.set_shm_key</a>,
<a href="../api_java/env_set_tas_spins.html">DbEnv.set_tas_spins</a>,
<a href="../api_java/env_set_timeout.html">DbEnv.set_timeout</a>,
<a href="../api_java/env_set_tmp_dir.html">DbEnv.set_tmp_dir</a>,
<a href="../api_java/env_set_tx_max.html">DbEnv.set_tx_max</a>,
<a href="../api_java/env_set_tx_timestamp.html">DbEnv.set_tx_timestamp</a>,
<a href="../api_java/env_set_verbose.html">DbEnv.set_verbose</a>
and
<a href="../api_java/env_strerror.html">DbEnv.strerror</a>.
</tt>
<table width="100%"><tr><td><br></td><td align=right>
<a href="../api_java/c_index.html"><img src="../images/api.gif" alt="API"></a><a href="../reftoc.html"><img src="../images/ref.gif" alt="Ref"></a>
</td></tr></table>
<p><font size=1><a href="http://www.sleepycat.com">Copyright Sleepycat Software</a></font>
</body>
</html>
